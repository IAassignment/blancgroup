function supportsPerfTiming(){return!(!window.performance||!window.performance.timing)}function logTimings(){var e=window.performance.timing,t=[],i=e.loadEventEnd-e.navigationStart;console.log("### PerfTimings:","Perceived time: "+i+"ms");for(var a in e){var o={event:a,timestamp:e[a]};t.push(o)}t.sort(function(e,t){return e.timestamp-t.timestamp}),t.forEach(function(e,i){if(i>0&&t[i+1]){var a=0;e.timestamp>0&&(a=t[i+1].timestamp-e.timestamp),console.log("#"+i,e,"elapsed: "+a)}});var n=Math.floor((new Date-Date.parse($("small.timestamp.timestamp_media").attr("datetime")))/1e3);console.log("### Last pub: ",n+" seconds ago.")}function weatherTheme(e){if(!e)return{};var t=e.text||"";t=t.toLowerCase();var i={wxtype:t,temp:parseInt(e.temp,10),icon:null,style:"theme-"+t};return t.indexOf("sunny")>-1?(i.icon="wi-day-sunny",i.style="theme-sunny"):t.indexOf("cloudy")>-1?(i.icon="wi-cloudy",i.style="theme-cloudy"):t.indexOf("rain")>-1?(i.icon="wi-rain",i.style="theme-rain"):t.indexOf("thunderstorm")>-1?(i.icon="wi-lightning",i.style="theme-storms"):t.indexOf("hail")>-1?(i.icon="wi-hail",i.style="theme-hail"):"clear"===t||"mostly clear"===t?(i.icon="wi-night-clear",i.style="theme-clear"):"fair"===t?(i.icon="wi-day-sunny-overcast",i.style="theme-fair"):t.indexOf("snow")>-1?(i.icon="wi-snow",i.style="theme-snow"):t.indexOf("wintry")>-1?(i.icon="wi-snow",i.style="theme-snow"):t.indexOf("fog")>-1?(i.icon="wi-fog",i.style="theme-fog"):t.indexOf("haze")>-1?(i.icon="wi-windy",i.style="theme-haze"):(i.icon="wi-cloudy",i.style="theme-"+t),i}function setWeatherPanel(e,t){$("#bad-zipcode").html(""),t.message&&$("#bad-zipcode").html(t.message).css("color","red").css("padding-left",5),$("#weather_city").html(t.city+", "+t.state_code),$(".weather-zip").attr("href","http://nbcnews.weather.com/weather/today/"+t.zip+"?par=nbcnews&site=nbcnews.com&cm_ven=nbcnews&cm_cat=ExtForecast&cm_pla=WxModule&cm_ite=CityPage");var i="";e.weather&&e.weather.observation&&($("#weather_conditions_temp").html(e.weather.observation.imperial.temp+"ÂºF"),$("#weather_conditions_text").html(e.weather.observation.phrase_32char),i=weatherTheme({text:e.weather.observation.phrase_32char,temp:e.weather.observation.imperial.temp})),$("#weather-icon").removeClass(function(e,t){var i=(t.match(/(^|\s)wi-\S+/g)||[]).join(" ")+(t.match(/(^|\s)theme-\S+/g)||[]).join(" ");return i}),$("#weather-icon").addClass(i.icon+" "+i.style)}function renderLocalHeadlines(e){var t=e.news,i="";if(t.length){t[0].link&&t[0].link.split("/")[2]&&(i=t[0].link.split("/")[2]);var a=_.template($("#js-localnewslinks-template").html()||""),o=_.template('<a href="http://<%=affiliate%>">From <%=affiliate%></a>');$("#localnewscol1").html(a({headlines:t.slice(1,5)})),$("#localnewscol2").html(a({headlines:t.slice(5,9)})),$("#localnews-affiliate").html(o({affiliate:i.replace("www.","")})),i&&$(".js-localaffiliate").attr("href","http://"+i)}}function getLocalNewsData(e){var t={dataType:"jsonp",jsonpCallback:"localSearch",cache:!0,url:"https://localnews.nbcnews.com/zip-coord/"+e.zip+"/"+e.lat+"/"+e["long"]};t.success=function(e){localNewsApp.localnewsData=e},t.complete=function(){setWeatherPanel(localNewsApp.localnewsData,e),renderLocalHeadlines(localNewsApp.localnewsData)},$.ajax(t)}function setGeoInfo(e){localNewsApp.geoInfo={zip:e.city_data.postal_code,city:e.city_data.city,state_code:e.state_data.state_code,lat:e.location_data.latitude,"long":e.location_data.longitude}}function setLocalNewsCookie(e){if(/^\d{5}$/.test(e.zip)){$.cookie.raw=!0;var t=".nbcnews.com";return/localhost/.test(location.hostname)&&(t=null),$.cookie("localnews","pi6="+e.zip+"="+e.lat+"="+e["long"]+"="+e.city+"="+e.state_code,{expires:14,path:"/",domain:t}),getLocalNewsData(e),!0}getLocalNewsData(localNewsApp.geoInfo)}function getGeoInfoByZip(e,t){var i={url:"https://geoip.nbcnews.com/api/zipinfo",data:{zip:e},dataType:"jsonp",jsonpCallback:"localSearch",cache:!0,success:function(e){e.city_data&&setGeoInfo(e)},complete:function(){t&&(e!==localNewsApp.geoInfo.zip&&(localNewsApp.geoInfo.zip="na",localNewsApp.geoInfo.message="Sorry, no data for "+e),t(localNewsApp.geoInfo))}};$.ajax(i)}function getGeoIpInfo(e,t){var i={url:"https://geoip.nbcnews.com/api/ipinfo",dataType:"jsonp",jsonpCallback:"localSearch",cache:!0,success:function(e){e.city_data&&setGeoInfo(e)},complete:function(){t&&t(localNewsApp.geoInfo)}};$.ajax(i)}function refresh(){function e(){satellite.track&&"/"===window.location.pathname&&(satellite.track("autoRefresh"),window.location.reload(!0))}if((new Date).getTime()-time>=unit){var t=new Image;t.onload=e,t.src="https://nodeassets.nbcnews.com/images/acfb0c9e.nbcnews-logo.png?"+Date()}else setTimeout(refresh,unit*interval)}window.enableLogging=function(e){return e?($.cookie("enablelogging","Y",{expires:365,path:"/"}),"enabled"):($.removeCookie("enablelogging",{path:"/"}),"disabled")},window.onload=function(){var e=$.cookie("enablelogging");supportsPerfTiming&&e&&setTimeout(logTimings,0)};var _xfinityJquery={xfinityHeaderScript:"http://my.xfinity.com/shared/js-api/polaris_vendor_iframes.js?signin=true&tab=&profile=NBCnews&ft=true",xfinityFooterScript:"http://xfinity.comcast.net/footer/xfinity/global/",showNetwork:function(){$("#network .content").show()},showXfinityHeader:function(){$("body").addClass("comcast"),$.getScript(this.xfinityHeaderScript),this.showNetwork()},showXfinityFooter:function(){this.xfinityFooterDiv(),this.xfinityIframeFooter()},xfinityFooterDiv:function(){var e=document.createElement("div"),t=this.getFooterDiv();e.id="xfinity-footer",$(e).insertAfter(t)},xfinityIframeFooter:function(){var e=document.createElement("iframe");e.src=this.xfinityFooterScript,e.width="100%",e.border="0",e.scrolling="no",e.height="325",$("#xfinity-footer").append(e)},getFooterDiv:function(){return $("#msnfooter").length>0?"#msnfooter":$(".chrome_footer").length>0?".chrome_footer":$("#sitefooter").length>0?"#sitefooter":"#footer"}};$(document).ready(function(){var e=window.xfinityShell||{};e.isXfinity&&(_xfinityJquery.showXfinityHeader(),_xfinityJquery.showXfinityFooter())}),function(){var e=window.ads||{};e.admantxController={isEnabled:function(){return!(!window.mpsapp||!window.mpsapp.isPixelmanEnabled)},render:function(e){if(this.isEnabled()){"string"==typeof __nbcudigitaladops_dtparams&&(top.__nbcudigitaladops_dtparams=top.__nbcudigitaladops_dtparams.replace(/asg=.*;/gi,"asg=;"),top.__nbcudigitaladops_dtparams=top.__nbcudigitaladops_dtparams.replace(/adg=.*;/gi,"adg=;")),"object"==typeof top.__nbcudigitaladops_inject&&"function"==typeof top.__nbcudigitaladops_inject.dtprm&&top.__nbcudigitaladops_inject.dtprm(""),window.admantx_callback=function(e){if(top.__nbcudigitaladops_inject&&top.__nbcudigitaladops_inject.dtprm&&e&&e.admants)if("OK"===e.status)for(var t=0;t<e.admants.length;t++){var i="adg="+e.admants[t]+";";top.__nbcudigitaladops_inject.dtprm(i)}else top.__nbcudigitaladops_inject.dtprm("asg=othererror;")};var t="http://async-lb-2129785755.us-east-1.elb.amazonaws.com/admantx/service?request="+window.escape('{"decorator":"template.nbc_template","key":"62263fff3cc1d07f85c7f8261a0c8f7dc096b35f59c82a713f20a9db8d562ff2","method":"descriptor","filter":"default","mode":"async","type":"URL","body":"'+window.escape(e)+'"}');$.getScript(t)}}},e.articleController={isArticle:function(){var e=!1;return $(".grid_article").length>0&&(e=!0),e},isFirstArticle:!0,isTaboolaMobile:function(e){return!(window.mpsapp.currentBreakpoint!==window.mpsapp.breakpointSizes.xs||!$(e).hasClass("taboolabelow"))},getRailAdPlacementList:function(e){if(e instanceof jQuery){var t=e.parents("article").first();if(t.hasClass("disable-perfect-market"))return[{type:"ad",id:"box1",height:600},{type:"revpanel",id:"perfectmarketspacer",height:600},{type:"ad",id:"box2",height:600},{type:"revpanel",id:"perfectmarketspacer",height:600},{type:"ad",id:"box3",height:600},{type:"revpanel",id:"perfectmarketspacer",height:600},{type:"ad",id:"box4",height:600},{type:"revpanel",id:"perfectmarketspacer",height:600}]}return[{type:"ad",id:"box1",height:600},{type:"revpanel",id:"perfectmarket",height:600},{type:"ad",id:"box2",height:600},{type:"revpanel",id:"perfectmarket",height:600},{type:"ad",id:"box3",height:600},{type:"revpanel",id:"perfectmarket",height:600},{type:"ad",id:"box4",height:600},{type:"revpanel",id:"perfectmarket",height:600}]},articleInview:function(t){if(e.articleController.isFirstArticle===!1&&t instanceof jQuery){var i="ad-revPanel_rendered";t.hasClass(i)===!1&&(e.articleController.insertRevPanels(t),t.addClass(i))}},getNewAdsForArticleEntry:function(t){var i=$(t),a=i.data("url");e.admantxController.render(a),mps.initCallback=function(){$.waypoints("destroy"),mps.adController.insertAds(t)};var o=window.mpscall||{};o.path=i.data("mpspath"),o.cat=i.data("mpscat"),o.type=i.data("mpstype"),e.mpscall.articleIndex++,o["cag[entryno]"]=e.mpscall.articleIndex,e.videoData=i.data("videodata"),o["cag[storylines]"]=i.data("mpsstorylinelist"),o["cag[sections]"]=i.data("mpssectionlist"),e&&e.noAds&&(o["cag[noads]"]="false");var n=i.data("mpsnoads");n&&(o["cag[noads]"]="true",e.noAds=!0),mps.makeRequest("more")},setRailAdContainerTotalHeight:function(e,t){e.data("ad-container-total-height",t)},getRailAdContainerTotalHeight:function(e){return e.data("ad-container-total-height")},getMainContainerHeight:function(e){var t=e.siblings(".article_main-container").first().height();return t+=e.siblings(".article-footer_container").first().height()},addToRailAdContainersTotalHeight:function(e,t){var i=this.getRailAdContainerTotalHeight(t)||0;return i+=$(e).height(),this.setRailAdContainerTotalHeight(t,i),i},configRailAd:function(t,i){if("boxflex"===i._mps._slot){var a=$(t).closest(".ad-container"),o=$(a).closest(".rail_article");e.articleController.configRail(a),e.articleController.insertRailAdPlacementList(o)}},configRailRevPanel:function(t){$(t).hasClass("taboolarail")&&e.articleController.configRail(t)},configRail:function(t){var i=$(t).closest(".rail_article");if(0!==i.length){var a=e.articleController.getMainContainerHeight(i);0>=a||e.articleController.addToRailAdContainersTotalHeight(t,i)}},insertNoadsAdbreak:function(t){var i=t.find(".ad-break-rightrail").first().clone().removeClass("ad-hide").addClass("ad-break-noads");t.append(i),e.articleController.addToRailAdContainersTotalHeight(i,t)},insertAds:function(t){mps.adController.bindAdSlots(t),e.articleController.isFirstArticle===!0&&(e.articleController.insertRevPanels(t),e.articleController.isFirstArticle=!1)},insertRailRevPanel:function(t){t.removeClass("ad-hide").find(".ad-label").removeClass("ad-hide"),e.articleController.renderRevPanel(t)},insertRailAd:function(e,t){var i=mps.adslots||[];$.inArray(t,i)&&(e.parent().removeClass("ad-hide").addClass("ad-min"),mps.adController.bindLazyLoad(e))},insertRailAdPlacement:function(t,i,a){var o=null;if("ad"===t.type){var n=$(a).find(".ad-desktoptemplate").first();if(n){o=n.clone(),$(i).append(o),o.removeClass("ad-desktoptemplate");var r=o.find(".ad-content").first();r.addClass(t.id).data("placement",t.id),e.articleController.insertRailAd(r,t.id),e.articleController.unhideTaboolaRailSpacer(t,a)}}else"revpanel"===t.type&&(o=a.find("."+t.id).first().clone(),$(i).append(o),e.articleController.insertRailRevPanel(o))},insertRailAdPlacementList:function(t){if(t instanceof jQuery!=!1){var i=t.parents("article").first(),a=0;i.hasClass("disable-taboola")&&(a=550);var o=e.articleController.getMainContainerHeight(t);"true"===mpscall["cag[noads]"]&&e.articleController.insertNoadsAdbreak(t),$.each(e.articleController.getRailAdPlacementList(t),function(i,n){var r=e.articleController.getRailAdContainerTotalHeight(t);if(o>r+n.height+a){var l=t.find(".ad-break-rightrail").first().clone().removeClass("ad-hide");t.append(l),e.articleController.insertRailAdPlacement(n,l,t),e.articleController.configRail(l)}})}},insertRevPanels:function(t){var i=["taboolarail","taboolabelow"];mps.adController.isXfinity()&&(i=["xfinityrail","taboolabelow"]),window._taboola=window._taboola||[];var a="";a=t?t.data("url"):$("article").first().data("url"),window._taboola.push({article:"auto",url:a}),$.each(i,function(i,a){var o="."+a,n=window.mpsapp||{};n.currentBreakpoint&&(o+=".ad-"+n.currentBreakpoint);var r=null;r=t?t.find(o):$(o),r.addClass("ad-revpanel"),r.hasClass("ad-lazyload")?mps.adController.bindLazyLoad(r):e.articleController.renderRevPanel(r)}),window._taboola.push({flush:!0})},renderRevPanel:function(t){var i=t.closest("article"),a=i.attr("id");if(e&&e.mpscall&&e.mpscall.articleIndex&&(a=a+"-"+e.mpscall.articleIndex),t.removeClass("ad-hide"),t.hasClass("taboolarail"))return void(e.articleController.isTaboolaMobile(t)===!1&&e.articleController.renderTaboolaRail(t,a));if(t.hasClass("taboolabelow"))return void(e.articleController.isTaboolaMobile(t)===!0?e.articleController.renderTaboolaBelowMobile(t,a):e.articleController.renderTaboolaBelow(t,a));var o=t.data("iframesrc");t.find(".ad-revpanel_iframe").attr("src",o),e.articleController.configRailRevPanel(t)},unhideTaboolaRailSpacer:function(e,t){t.parents("article").hasClass("disable-taboola")&&"box1"===e.id&&t.find(".taboolarailspacer").removeClass("ad-hide")},renderTaboolaRail:function(e,t){var i="taboola-right-rail-thumbnails-"+t,a='<div id="'+i+'"></div>',o="taboola-right-rail-thumbnails-2nd-"+t,n='<div id="'+o+'"></div>';e.append(a),e.append(n),window._taboola.push({container:i,mode:"thumbnails-a",placement:"Right Rail Thumbnails",target_type:"mix"}),window._taboola.push({container:o,mode:"organic-thumbnails-a",placement:"Right Rail Thumbnails 2nd",target_type:"video"})},renderTaboolaBelowMobile:function(e,t){var i="taboola-mobile-below-article-thumbnails-"+t,a='<div id="'+i+'"></div>';e.append(a),window._taboola.push({container:i,mode:"thumbs-2r",placement:"Mobile Below Article Thumbnails",target_type:"mix"})},renderTaboolaBelow:function(e,t){var i="taboola-below-article-thumbnails-"+t,a='<div id="'+i+'"></div>',o="taboola-below-article-text-links-"+t,n='<div id="'+o+'"></div>';e.append(a),e.append(n),window._taboola.push({container:i,mode:"thumbnails-c",placement:"Below Article Thumbnails",target_type:"mix"},{container:o,mode:"hybrid-text-links-2c",placement:"Below Article Text Links",target_type:"mix"})}}}(),function(){top.uxads={isInterstitialActive:!1,insertLogo:function(e,t){var i=$('<img class="sponsor_logo_image" />');if(i.attr("src",decodeURI(e.sponsorLogoImage)),decodeURI(e.sponsorLogoClickthroughUrl)){var a=decodeURI(e.clickthru)+decodeURI(e.sponsorLogoClickthroughUrl),o=$('<a target="_blank"></a>');o.attr("href",a),o.append(i),t.find(".ad_sponsor-log").append(o)}else t.find(".ad_sponsor-log").append(i)},configSpotlight:function(e,t,i){return"Native"===decodeURI(e.storyType)?void top.uxads.configNative(e,t,i):(t.addClass("ad_spotlight"),top.uxads.configLogo(e,i),void("Linkout"===decodeURI(e.storyType)?top.uxads.configLinkout(e,i):"Video"===decodeURI(e.storyType)&&top.uxads.configVideo(e,i)))},configLogo:function(e,t){"Logo"===decodeURI(e.sponsorLogo)?top.uxads.insertLogo(e,t):"NoLogo"===decodeURI(e.sponsorLogo)&&t.find(".ad_sponsor-log").remove()},configNative:function(e,t,i){if("Native"===decodeURI(e.storyType)){var a="ADVERTISER CONTENT BY ",o=decodeURI(e.advertiserMessageOverride);o&&(a=o+" "),"Logo"===decodeURI(e.sponsorLogo)?top.uxads.insertLogo(e,i):"NoLogo"===decodeURI(e.sponsorLogo)&&(a+=decodeURI(e.advertiser)),$("body").hasClass("feature")===!0&&i.find(".teaseImage").attr("height","66px"),i.find(".storyType").remove(),i.find(".ad_sponsor-log .sponsoredBy").text(a),t.addClass("ad_native")}},configLinkout:function(e,t){"Linkout"===decodeURI(e.storyType)&&decodeURI(e.linkoutPropertyName)&&(t.find(".storyType").append(" From "+decodeURI(e.linkoutPropertyName)),t.find(".teaseLink").attr("target","_blank"))},configVideo:function(e,t){"Video"===decodeURI(e.storyType)&&t.find(".storyType").append(" Video")},configThirdPartyTracking:function(e,t){if(decodeURI(e.thirdPartyTracking)){var i=$('<img width="1px" height="1px"/>');i.attr("src",decodeURI(e.thirdPartyTracking)),t.append(i)}},configTease:function(e,t){t.find(".teaseImage").attr("src",decodeURI(e.teaseImage)),t.find(".photo_credit").text(decodeURI(e.photoCredit)),t.find(".teaseTitle .teaseLink, .teaseLink .teaseTitle").text(decodeURI(e.title)),t.find(".teaseLink").attr("href",decodeURI(e.desturl))},insertSpotlight:function(e){try{var t=$("#ad"+decodeURI(e.position));t.find(".placeholder").remove();var i=t.find(".spotlight.template");top.uxads.configTease(e,i),top.uxads.configSpotlight(e,t,i),top.uxads.configThirdPartyTracking(e,i),i.removeClass("ad-hide").addClass(decodeURI(e.storyType)).addClass(decodeURI(e.sponsorLogo)),"section"!==ads.mpscall.type&&"topic"!==ads.mpscall.type||i.closest("#featured-section").removeClass("ad-hide")}catch(a){}}}}(),function(){var e=window.mps||{};e.adController={initialize:function(){this.initLazyLoadOffset(),this.setXfinityCobrandTargeting(),this.initCoverAdsRefresh(),ads.windowFocus===!0&&(this.insertAds(),this.isInsertAds=!0),this.bindAdRenderedCallback()},isInsertAds:!1,isCover:function(){return"/cover"===ads.mpscall.path},isCoverRefreshAdSlot:function(e){return e.indexOf("topbanner")>-1||e.indexOf("topmulti")>-1||e.indexOf("boxfront")>-1||e.indexOf("mobilebox")>-1||e.indexOf("box")>-1},isEnableCoverAdsRefresh:function(){return!(!ads||!ads.isEnableCoverAdsRefresh||this.isCover()!==!0)},insertCoverRenderedAdList:function(e){var t=$(e).data("placement");ads&&ads.renderedCoverAdList&&this.isCoverRefreshAdSlot(t)===!0&&ads.renderedCoverAdList.push(e)},isElementInViewport:function(e){"function"==typeof jQuery&&e instanceof jQuery&&(e=e[0]);var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)},isElementAboveViewport:function(e){"function"==typeof jQuery&&e instanceof jQuery&&(e=e[0]);var t=e.getBoundingClientRect();return t.bottom<=0},refreshAdsForCover:function(){ads.windowFocus===!0&&("undefined"!=typeof googletag&&googletag.pubads().updateCorrelator(),$.each(ads.renderedCoverAdList,function(t,i){var a=$(i).data("placement");e.adController.isElementInViewport(i)===!0&&e.refreshAds(a)}))},initCoverAdsRefresh:function(){if(ads.windowFocus=!0,this.isEnableCoverAdsRefresh()!==!1){ads.renderedCoverAdList=[],document.hasFocus&&document.hasFocus()===!1&&(ads.windowFocus=!1);var e=this;$(window).focus(function(){ads.windowFocus=!0,e.isInsertAds===!0?e.refreshAdsForCover():(e.insertAds(),e.isInsertAds=!0),e.setCoverAdsRefreshInterval()}).blur(function(){ads.windowFocus=!1,clearInterval(e.coverAdRefreshTimer)}),this.setCoverAdsRefreshInterval()}},coverAdRefreshTimer:null,setCoverAdsRefreshInterval:function(){clearInterval(this.coverAdRefreshTimer);var t=6e4;ads.CoverAdRefreshIntervalMultiplier&&(t*=ads.CoverAdRefreshIntervalMultiplier),this.coverAdRefreshTimer=setInterval(function(){e.adController.refreshAdsForCover()},t)},displayAdContainer:function(t,i){i.isEmpty===!1?($(t).parent().parent().removeClass("ad-min"),$(t).parent().parent().find(".ad-label").removeClass("ad-hide")):($(t).parent().parent().removeClass("ad-min").addClass("ad-hide"),e.adController.isCover()===!0&&$(t).parent().parent().next(".adBoxFront").removeClass("ad-hide"))},isVideoFront:function(){return $("body").hasClass("videofront")},isXfinity:function(){return!(!window.xfinityShell||window.xfinityShell.isXfinity!==!0)},isXfinityCobrand:function(){return this.isXfinity()===!0&&ads.articleController.isArticle()===!0},setXfinityAdLabel:function(e){var t='<a href="http://xfinity.comcast.net/adinformation" target="_blank">Ad Info</a>';t+=" | ",t+='<a href="https://www.surveymonkey.com/s.aspx?sm=FyNNVDhj_2f2FNc2KVOHQ4eg_3d_3d" target="_blank">Ad Feedback</a>',$(e).parent().parent().find(".ad-label").html(t)},setXfinityCobrandTargeting:function(){try{this.isXfinityCobrand()===!0&&googletag&&googletag.cmd&&e&&e.advars&&googletag.cmd.push(function(){var t=e.advars.box1,i=gpt[t];i&&i.setTargeting("xfinityTag","cobrand")})}catch(t){}},isXfinityAdSlot:function(e){return(-1!==e._mps._slot.search("topmulti")||-1!==e._mps._slot.search("box"))&&300===e.size[0]&&250===e.size[1]},configXfinity:function(e,t){this.isXfinity()===!0&&this.isXfinityAdSlot(t)===!0&&this.setXfinityAdLabel(e)},isInterstitial:function(e){return-1!==e._mps.adslot.search("interstitial")},isOutOfPage:function(e){return-1!==e._mps.adslot.search("outofpage")},configInterstitial:function(e,t){t.isEmpty===!1?($("body").prepend('<div id="nbcnews-interstitial"></div>'),$(e).parent().parent().find(".ad-label").removeClass("ad-hide").prependTo("div#nbcnews-interstitial"),this.isInterstitialActive=!0):$(e).parent().parent().addClass("ad-hide")},configTopBannerAd:function(e,t){-1===t._mps.adslot.search("topbanner")||320!==t.size[0]&&300!==t.size[0]||50!==t.size[1]||$(e).parent().parent().addClass("ad-container_default").addClass("row_no-clear")},configFlexAd:function(e){-1!==e._mps.adslot.search("topmulti")&&300===e.size[0]&&600===e.size[1]&&($("#adFlexAdSpacer").addClass("ad-hide"),$("div.profile-cards-container").length>0&&$(".ad-container-topmulti:first").removeClass("ad-profiles"),$("body").hasClass("better")===!0&&($(".video-better-ad300x250").addClass("ad-hide"),$(".video-better-ad300x600").removeClass("ad-hide").parent().addClass("video-wrapper-ad300x600")))},bindAdRenderedCallback:function(){"undefined"!=typeof googletag&&googletag&&googletag.cmd.push(function(){googletag.pubads().addEventListener("slotRenderEnded",function(t){var i="#"+t._mps.adslot;e.adController.isOutOfPage(t)||(e.adController.isInterstitial(t)?e.adController.configInterstitial(i,t):e.adController.displayAdContainer(i,t),e.adController.configTopBannerAd(i,t),e.adController.configFlexAd(t),e.adController.configXfinity(i,t),ads.articleController.configRailAd(i,t),$.waypoints("refresh"))})})},bindAdSlots:function(t){var i=e.adslots||{};i["boxfront-vertical_spacer"]="boxfront-vertical_spacer",$.each(i,function(i){var a="."+i,o=window.mpsapp||{};o.currentBreakpoint&&(a+=".ad-"+o.currentBreakpoint);var n=null;n=t?t.find(a):$(a),n.hasClass("boxfront-vertical_spacer")&&n.parent().removeClass("ad-hide"),n.hasClass("ad-min")?n.removeClass("ad-min").parent().removeClass("ad-hide").addClass("ad-min"):(n.parent().removeClass("ad-hide"),n.siblings(".ad-label").removeClass("ad-hide")),n.length>0&&e.adController.bindLazyLoad(n)})},insertAds:function(e){ads.articleController.isArticle()?(ads.articleController.insertAds(e),this.isInterstitialActive&&this.removeInterstitial()):this.bindAdSlots(e)},initLazyLoadOffset:function(){window.mpscall&&window.mpscall.cat&&window.mpscall.type&&("storyline"===window.mpscall.type&&window.mpscall.cat.indexOf("front")>-1||window.mpscall.cat.indexOf("|latino|front")>-1)&&(this.lazyLoadOffset="105%")},getCoverAdLazyLoadOffset:function(e){var t="100%";if(ads&&ads.coverLazyLoadOffsetList){var i=e.attr("class");i=i.split(" "),$.each(i,function(e,i){var a=ads.coverLazyLoadOffsetList[i];return a?(t=a,!1):void 0})}return t},bindLazyLoadCover:function(t){if(t.length>0){var i=this.getCoverAdLazyLoadOffset(t),a=e.adController.isElementAboveViewport(t);a?t.waypoint(function(i){"up"===i&&t.hasClass("waypointRendered")===!1&&(e.adController.renderAd(this),t.addClass("waypointRendered"))},{offset:"0%"}):t.waypoint(function(t){"down"===t&&e.adController.renderAd(this)},{triggerOnce:!0,offset:i})}},bindLazyLoad:function(t){if(this.isCover()===!0)return void this.bindLazyLoadCover(t);if(t.length>0){var i="125%";this.lazyLoadOffset&&(i=this.lazyLoadOffset),t.waypoint(function(){t.hasClass("ad-revpanel")?e.adController.renderRevPanel(this):e.adController.renderAd(this)},{triggerOnce:!0,offset:i})}},renderAd:function(t){var i=$(t);e.adController.isCover()===!0&&i.is('[class*="boxfront"]')===!0&&i.parent().next(".adBoxFront").addClass("ad-hide");var a=i.data("placement");i.html(e.getAd(a)),this.insertCoverRenderedAdList(t)},removeInterstitial:function(){$("#nbcnews-interstitial").remove(),this.isInterstitialActive=!1}},e.adController.initialize()}();var main=main||{};main.rAF=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},main.scollPos=-1;var horizontalScrollEl=$(".js-horizontal-scroll");horizontalScrollEl.scroll(function(){horizontalScrollEl.scrollLeft()>20&&main.viewBindings()}),main.handleScroll=function(){return main.scollPos===window.pageYOffset?(main.rAF.call(window,main.handleScroll),!1):(main.scollPos=window.pageYOffset,$(document).trigger("rAF-scroll"),void main.rAF.call(window,main.handleScroll))},main.isElementInViewport=function(e){"function"==typeof jQuery&&e instanceof jQuery&&(e=e[0]);var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)},main.viewBindings=function(e){var t=_site.viewport().width,i={failure_limit:99,threshold:150,placeholder:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACwAAAAAAQABAAACAkQBADs="};e&&e.threshold&&(i.threshold=e.threshold),$("img.js-lazy").lazyload(i),767>=t?$("img.js-lazy-xs").lazyload(i):t>=768&&999>=t?$("img.js-lazy-sm").lazyload(i):t>=1e3&&1229>=t?$("img.js-lazy-md").lazyload(i):t>=1230&&$("img.js-lazy-lg").lazyload(i),$(".js-sharethis-location").attr("href",function(){var e="",t=$(this);return"undefined"!=typeof t.data("title")&&(e=t.data("title")+encodeURIComponent(document.title)),t.data("url")+window.location.href+e})},main.openShareDialog=function(e,t){var i=575,a=400,o="_blank",n=screen.width/2-i/2,r=screen.height/2-a/2,l="width="+i+",height="+a+",top="+r+",left="+n,s=t.contextType||"",d="email";-1===e.indexOf("mailto:")&&(d=e.split(".com")[0].split("://")[1].split(".").pop(),"google"===d&&(d="gplus"));var c={};switch(s){case"article":c={contentType:"article",linkModuleType:"article share bar",headline:window.analyticsDataLayer.headline,linkModuleLocation:"article"};break;case"videoFront":c={contentType:t.contextLocation,linkModuleType:"video share bar",linkModuleLocation:"video",guid:t.guid};break;case"inline-share-bar":c={contentType:"article",headline:window.analyticsDataLayer.headline,linkModuleType:"video share bar",linkModuleLocation:"video",guid:t.guid};break;case"datacard":c={contentType:t.contextsubtype};break;case"datacard-inline-share-bar":c={contentType:"datacard",headline:window.analyticsDataLayer.headline,linkModuleType:"video share bar",linkModuleLocation:"video",guid:t.guid}}return c.channel=d,window.DTM.social_share=c,_satellite.track("social_share"),"email"===d?window.location.href=e:window.open(e,o,l,!1),!1},main.eventTimer=function(e){if(window.eventTimings)if(window.eventTimings.triggered)window.eventTimings={triggered:!0,event:"",duration:""};else{window.eventTimings.triggered=!0;var t=(new Date).getTime()-window.eventTimings.startTS,i=Math.round(t/1e3);window.eventTimings.event=e,window.eventTimings.duration=i.toString()}},main.eventTimerInit=function(e){window.eventTimings||(window.eventTimings={timerName:e,startTS:(new Date).getTime(),event:"",duration:""},_satellite.track("videoPlayInit"))},$(function(){if(window.disableAutoPlay&&window.enableAutoPlaySectionList&&window.analyticsDataLayer){var e=window.analyticsDataLayer.section,t=window.enableAutoPlaySectionList;e&&t.indexOf(e)>-1&&(window.disableAutoPlay=!1)}}),$(function(){function e(){var e=$(document).scrollTop();if(!(e>700)){if(e>i){if(!$(".is-fixed")[0]){t.addClass("is-fixed");var o=_site.viewport();o.width>=992&&o.height>=769?($("body").css("margin-top",a),main.isNavFixed=!0,main.headerHeight=t.height()):main.isNavFixed=!1}}else t.removeClass("is-fixed"),$("body").css("margin-top",0);$(window).trigger("stickyNav:pageFlowAdj")}}$(document).on("click",".js-sharethis, .js-sharethis-location",function(e){e.preventDefault();var t=$(this),i="",a="",o="";"undefined"!=typeof t.data("context")&&""!==t.data("context")&&(i=t.data("context")),"undefined"!=typeof t.data("guid")&&""!==t.data("guid")&&(a=t.data("guid")),"undefined"!=typeof t.data("contextsubtype")&&""!==t.data("contextsubtype")&&(o=t.data("contextsubtype")),main.openShareDialog(this.href,{guid:a,contextType:i,contextsubtype:o})}),$("#market_search").submit(function(e){e.preventDefault();var t="http://data.cnbc.com/quotes/"+$("#market_symbol").val();window.location.href=t}),main.viewBindings(),$(document).on("click",".toggle-gallery-button",function(e){$(".toggle-gallery-button").toggle(),$("#"+$(e.target).data("externalid")+" > .container > .gallerywrapper").toggle()});var t=$(".js-scroll-header");if($(t).length)var i=t.offset().top,a=t.css("height");if($(document).on("rAF-scroll",function(){e()}),_.throttle){var o=_.debounce(main.viewBindings,300);$(window).on("resize",o)}main.handleScroll()}),main.buildLightBox=function(e,t){$('<div class="lightbox">').appendTo("body").html('<div class="lightbox_container"><img class="img-responsive" src="'+e+'" alt="" /> '+t+'<button class="btn btn_primary btn_lg" aria-label="close"><i aria-hidden="true" class="fa fa-times"></i></i></button></div>'),$("body").on("click",".lightbox",function(){$(".lightbox").remove()})},main.lightBoxInit=function(){$(".js-lightbox").click(function(e){if(viewport().width>768){e.preventDefault();var t=$(this).attr("href"),i=$(this).next(".js-caption_wrapper").html();main.buildLightBox(t,i)}})},$(document).ready(function(){main.lightBoxInit()});var localNewsApp=localNewsApp||{};localNewsApp.geoInfo={zip:"na",lat:0,"long":0,city:"no data",state_code:""},localNewsApp.localnewsData={},$("#zip_change").submit(function(e){e.preventDefault();var t=$("#weather_zip").val()||"none";getGeoInfoByZip(t,function(e){setLocalNewsCookie(e)}),$(".btn_group-zip").toggleClass("is-open"),$(".js-toggle-zip").toggleClass("is-active")}),$(".js-toggle-zip, .change-zip-close").click(function(){$(".btn_group-zip").toggleClass("is-open"),$(".js-toggle-zip").toggleClass("is-active")}),$(function(){if($.cookie("localnews")){var e=$.cookie("localnews").split("="),t={zip:e[1],lat:e[2],"long":e[3],city:e[4],state_code:e[5]};localNewsApp.geoInfo=t,getLocalNewsData(t)}else"/"===document.location.pathname&&getGeoIpInfo({},function(e){setLocalNewsCookie(e)});$(".btn_site-menu").on("click",function(){$.cookie("localnews")||getGeoIpInfo({},function(e){setLocalNewsCookie(e)})})});var satellite=window._satellite||{},unit=6e4,interval=4,time=(new Date).getTime();$(document.body).bind("mousemove keypress",function(){time=(new Date).getTime()}),setTimeout(refresh,unit*interval);