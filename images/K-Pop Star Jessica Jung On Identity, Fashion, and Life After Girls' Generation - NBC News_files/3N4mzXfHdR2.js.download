if (self.CavalryLogger) { CavalryLogger.start_js(["k\/M9O"]); }

__d('EmbeddedVideoAPIComponent',['Arbiter','SubscriptionsHandler','XD','VideoPlayerReason'],(function a(b,c,d,e,f,g){var h=c('XD').UnverifiedXD;function i(j){'use strict';this.$EmbeddedVideoAPIComponent1=j;this.$EmbeddedVideoAPIComponent2=new (c('SubscriptionsHandler'))();this.$EmbeddedVideoAPIComponent3={playing:'startedPlaying',paused:'paused',finished:'finishedPlaying',buffering:'startedBuffering',buffered:'finishedBuffering',error:'error'};this.$EmbeddedVideoAPIComponent2.addSubscriptions(c('Arbiter').subscribe('Connect.Unsafe.play',function(){this.$EmbeddedVideoAPIComponent1.play(c('VideoPlayerReason').EMBEDDED_VIDEO_API);}.bind(this)),c('Arbiter').subscribe('Connect.Unsafe.pause',function(){this.$EmbeddedVideoAPIComponent1.pause(c('VideoPlayerReason').EMBEDDED_VIDEO_API);}.bind(this)),c('Arbiter').subscribe('Connect.Unsafe.seek',function(l,m){this.$EmbeddedVideoAPIComponent1.seek(m.target);}.bind(this)),c('Arbiter').subscribe('Connect.Unsafe.mute',function(){this.$EmbeddedVideoAPIComponent1.mute();}.bind(this)),c('Arbiter').subscribe('Connect.Unsafe.unmute',function(){this.$EmbeddedVideoAPIComponent1.unmute();}.bind(this)),c('Arbiter').subscribe('Connect.Unsafe.setVolume',function(l,m){this.$EmbeddedVideoAPIComponent1.setVolume(m.volume);}.bind(this)),this.$EmbeddedVideoAPIComponent1.addListener('stateChange',function(){if(this.$EmbeddedVideoAPIComponent1.isState('ready')){var l={isMuted:this.$EmbeddedVideoAPIComponent1.isMuted(),volume:this.$EmbeddedVideoAPIComponent1.getVolume(),timePosition:this.$EmbeddedVideoAPIComponent1.getCurrentTimePosition(),duration:this.$EmbeddedVideoAPIComponent1.getPlaybackDuration()};this.sendVideoAPIReady(l);}else if(this.$EmbeddedVideoAPIComponent1.isState('playing')){this.sendEventToSDK(this.$EmbeddedVideoAPIComponent3.playing);}else if(this.$EmbeddedVideoAPIComponent1.isState('paused')){this.sendEventToSDK(this.$EmbeddedVideoAPIComponent3.paused);}else if(this.$EmbeddedVideoAPIComponent1.isState('finished'))this.sendEventToSDK(this.$EmbeddedVideoAPIComponent3.finished);}.bind(this)),this.$EmbeddedVideoAPIComponent1.addListener('updateStatus',function(l){if(l.position!==undefined){var m={timePosition:l.position};this.sendStateDataForUpdateToSDK(m);}}.bind(this)),this.$EmbeddedVideoAPIComponent1.addListener('buffering',function(){this.sendEventToSDK(this.$EmbeddedVideoAPIComponent3.buffering);}.bind(this)),this.$EmbeddedVideoAPIComponent1.addListener('buffered',function(){this.sendEventToSDK(this.$EmbeddedVideoAPIComponent3.buffered);}.bind(this)),this.$EmbeddedVideoAPIComponent1.addListener('error',function(){this.sendEventToSDK(this.$EmbeddedVideoAPIComponent3.error);}.bind(this)),this.$EmbeddedVideoAPIComponent1.addListener('updateMetadata',function(l){var m={duration:this.$EmbeddedVideoAPIComponent1.getPlaybackDuration()};this.sendStateDataForUpdateToSDK(m);}.bind(this)),this.$EmbeddedVideoAPIComponent1.addListener('muteVideo',function(){var l={isMuted:true};this.sendStateDataForUpdateToSDK(l);}.bind(this)),this.$EmbeddedVideoAPIComponent1.addListener('unmuteVideo',function(){var l={isMuted:false};this.sendStateDataForUpdateToSDK(l);}.bind(this)),this.$EmbeddedVideoAPIComponent1.addListener('changeVolume',function(l){var m={volume:l.volume,isMuted:l.volume===0};this.sendStateDataForUpdateToSDK(m);}.bind(this)));if(!this.$EmbeddedVideoAPIComponent1.isState('loading')&&!this.$EmbeddedVideoAPIComponent1.isState('fallback')){var k={isMuted:this.$EmbeddedVideoAPIComponent1.isMuted(),volume:this.$EmbeddedVideoAPIComponent1.getVolume(),timePosition:this.$EmbeddedVideoAPIComponent1.getCurrentTimePosition(),duration:this.$EmbeddedVideoAPIComponent1.getPlaybackDuration()};this.sendVideoAPIReady(k);}}i.prototype.sendVideoAPIReady=function(j){'use strict';h.send({type:'onVideoAPIReady',data:JSON.stringify(j)});};i.prototype.sendEventToSDK=function(event){'use strict';h.send({type:'stateChange',state:event});};i.prototype.sendStateDataForUpdateToSDK=function(j){'use strict';h.send({type:'cachedStateUpdateRequest',data:JSON.stringify(j)});};f.exports=i;}),null);
__d('EmbeddedVideoFbLogoOverlay',['cx','CSS','EventListener','SubscriptionsHandler','throttle'],(function a(b,c,d,e,f,g,h){function i(j,k,l){'use strict';this.$EmbeddedVideoFbLogoOverlay1=k;this.$EmbeddedVideoFbLogoOverlay2=j;this.$EmbeddedVideoFbLogoOverlay3=new (c('SubscriptionsHandler'))();if(l){this.$EmbeddedVideoFbLogoOverlay3.addSubscriptions(j.addListener('beginPlayback',function(){k.parentNode.removeChild(k);this.$EmbeddedVideoFbLogoOverlay3.release();}.bind(this)));}else{this.$EmbeddedVideoFbLogoOverlay2.addListener('beginPlayback',this.$EmbeddedVideoFbLogoOverlay4.bind(this));this.$EmbeddedVideoFbLogoOverlay2.addListener('pausePlayback',this.$EmbeddedVideoFbLogoOverlay5.bind(this));this.$EmbeddedVideoFbLogoOverlay2.addListener('finishPlayback',this.$EmbeddedVideoFbLogoOverlay5.bind(this));c('EventListener').listen(this.$EmbeddedVideoFbLogoOverlay2.getRootNode(),'mousemove',c('throttle')(this.$EmbeddedVideoFbLogoOverlay6.bind(this),200));c('EventListener').listen(this.$EmbeddedVideoFbLogoOverlay2.getRootNode(),'mouseenter',function(){this.$EmbeddedVideoFbLogoOverlay7=true;}.bind(this));c('EventListener').listen(this.$EmbeddedVideoFbLogoOverlay2.getRootNode(),'mouseleave',function(){this.$EmbeddedVideoFbLogoOverlay7=false;if(this.$EmbeddedVideoFbLogoOverlay2.isState('playing'))this.$EmbeddedVideoFbLogoOverlay8();}.bind(this));}}i.prototype.$EmbeddedVideoFbLogoOverlay4=function(){'use strict';c('CSS').addClass(this.$EmbeddedVideoFbLogoOverlay1,"_16d3");this.$EmbeddedVideoFbLogoOverlay6();};i.prototype.$EmbeddedVideoFbLogoOverlay6=function(){'use strict';if(this.$EmbeddedVideoFbLogoOverlay2.isState('playing')&&this.$EmbeddedVideoFbLogoOverlay7){this.$EmbeddedVideoFbLogoOverlay5();clearTimeout(this.$EmbeddedVideoFbLogoOverlay9);this.$EmbeddedVideoFbLogoOverlay9=setTimeout(function(){if(this.$EmbeddedVideoFbLogoOverlay2.isState('playing'))this.$EmbeddedVideoFbLogoOverlay8();}.bind(this),3000);}};i.prototype.$EmbeddedVideoFbLogoOverlay5=function(){'use strict';c('CSS').removeClass(this.$EmbeddedVideoFbLogoOverlay1,"_16d4");};i.prototype.$EmbeddedVideoFbLogoOverlay8=function(){'use strict';c('CSS').addClass(this.$EmbeddedVideoFbLogoOverlay1,"_16d4");};f.exports=i;}),null);
__d('EmbeddedVideoInitialInfoOverlay',['SubscriptionsHandler'],(function a(b,c,d,e,f,g){function h(i,j){'use strict';this.$EmbeddedVideoInitialInfoOverlay1=new (c('SubscriptionsHandler'))();this.$EmbeddedVideoInitialInfoOverlay1.addSubscriptions(i.addListener('beginPlayback',function(){j.parentNode.removeChild(j);this.$EmbeddedVideoInitialInfoOverlay1.release();}.bind(this)));}f.exports=h;}),null);
__d('EmbeddedVideoSaveButton',['cx','fbt','Arbiter','AsyncFormRequestUtils','Banzai','CSS','DOM','Event','FormSubmit','guid'],(function a(b,c,d,e,f,g,h,i){var j='saved_for_later:imp',k='saved_for_later:click',l='overlay_toggle_button',m='embedded_video';function n(o,p,q,r,s,t,u,v,w,x){'use strict';this.$EmbeddedVideoSaveButton1=o;this.$EmbeddedVideoSaveButton2=[];this.objectID=w;this.impressed=false;this.$EmbeddedVideoSaveButton3=u;this.$EmbeddedVideoSaveButton4=v;if(x){this.$EmbeddedVideoSaveButton5=i._("Watch Later");this.$EmbeddedVideoSaveButton6=i._("Watch Later");}else{this.$EmbeddedVideoSaveButton5=i._("Save");this.$EmbeddedVideoSaveButton6=i._("Unsave");}c('DOM').setContent(this.$EmbeddedVideoSaveButton3,this.$EmbeddedVideoSaveButton5);c('DOM').setContent(this.$EmbeddedVideoSaveButton4,this.$EmbeddedVideoSaveButton6);var y=function(aa){if(aa){c('CSS').hide(q);c('CSS').show(r);}else{c('CSS').hide(r);c('CSS').show(q);}c('Arbiter').inform('embeddedUfiToggle');if(this.$EmbeddedVideoSaveButton2.length===0){if(aa){t.setAttribute('value',1);}else t.setAttribute('value',0);c('FormSubmit').send(s);}this.$EmbeddedVideoSaveButton2.push(aa);this.$EmbeddedVideoSaveButton7();}.bind(this),z=function(aa){var ba=t.getAttribute('value')==='1';if(this.$EmbeddedVideoSaveButton2.length>1){var ca=this.$EmbeddedVideoSaveButton2[this.$EmbeddedVideoSaveButton2.length-1];if(ba&&!ca||!ba&&ca){if(ca){t.setAttribute('value',1);}else t.setAttribute('value',0);c('FormSubmit').send(s);}}this.$EmbeddedVideoSaveButton2=[];}.bind(this);c('Event').listen(q,'click',function(){return y(true);});c('Event').listen(r,'click',function(){return y(false);});p.addListener('beginPlayback',function(){this.$EmbeddedVideoSaveButton8();c('CSS').removeClass(this.$EmbeddedVideoSaveButton1,"_4_me");}.bind(this));c('AsyncFormRequestUtils').subscribe(s,'response',z);}n.prototype.hideText=function(){'use strict';c('DOM').setContent(this.$EmbeddedVideoSaveButton3,null);c('DOM').setContent(this.$EmbeddedVideoSaveButton4,null);};n.prototype.showText=function(){'use strict';c('DOM').setContent(this.$EmbeddedVideoSaveButton3,this.$EmbeddedVideoSaveButton5);c('DOM').setContent(this.$EmbeddedVideoSaveButton4,this.$EmbeddedVideoSaveButton6);};n.prototype.$EmbeddedVideoSaveButton8=function(){'use strict';if(this.impressed)return;this.impressed=true;var o={mechanism:l,surface:m,og_object_id:this.objectID,event_id:c('guid')()};c('Banzai').post(j,o,{delay:0,retry:true});};n.prototype.$EmbeddedVideoSaveButton7=function(){'use strict';var o={mechanism:l,surface:m,og_object_id:this.objectID,event_id:c('guid')()};c('Banzai').post(k,o,{delay:0,retry:true});};f.exports=n;}),null);
__d('SphericalVideoFallback',['cx','CSS','VideoPlayerFallbackEvents','VideoPlayerLoggerEvent','VideoPlayerStates'],(function a(b,c,d,e,f,g,h){var i={setup:function j(k,l){var m,n=l.fallbackUriList,o=l.fallbackType,p=function q(){k.emit(c('VideoPlayerFallbackEvents').ENTER);var r=k.addListener('stateChange',function(){if(k.isState(c('VideoPlayerStates').PLAYING)){k.logEvent(c('VideoPlayerLoggerEvent').SPHERICAL_FALLBACK_ENTERED,{spherical_fallback_type:o});r.remove();}});k.setFallbackSources(n);c('CSS').removeClass(k.getRootNode(),"_3-n5");k.reset();k.emit(c('VideoPlayerFallbackEvents').RECOVER);};if(k.isState(c('VideoPlayerStates').FALLBACK)){p();}else (function(){var q=k.addListener('stateChange',function(){if(k.isState(c('VideoPlayerStates').FALLBACK)){p();q.remove();}});})();}};f.exports=i;}),null);
__d('VideoErrorOverlay',['SphericalVideoFallback'],(function a(b,c,d,e,f,g){function h(k,l){if('textContent' in k)k.textContent=l;k.innerText=l;}function i(k){if('textContent' in k)return k.textContent;if(!k.innerText)return '';return k.innerText;}function j(k,l,m,n,o){'use strict';this.$VideoErrorOverlay1=l;this.$VideoErrorOverlay2=m;this.$VideoErrorOverlay3=n;k.registerOption('VideoErrorOverlay','title',function(){return this.getTitle();}.bind(this),function(p){return this.setTitle(p);}.bind(this));k.registerOption('VideoErrorOverlay','message',function(){return this.getMessage();}.bind(this),function(p){return this.setMessage(p);}.bind(this));k.registerOption('VideoErrorOverlay','linkURL',function(){return this.getLinkURL();}.bind(this),function(p){return this.setLinkURL(p);}.bind(this));k.registerOption('VideoErrorOverlay','linkTitle',function(){return this.getLinkTitle();}.bind(this),function(p){return this.setLinkTitle(p);}.bind(this));k.registerOption('VideoErrorOverlay','available',function(){return true;});if(o)c('SphericalVideoFallback').setup(k,o);}j.prototype.getTitle=function(){'use strict';return this.$VideoErrorOverlay1?i(this.$VideoErrorOverlay1):'';};j.prototype.setTitle=function(k){'use strict';if(this.$VideoErrorOverlay1)h(this.$VideoErrorOverlay1,k);};j.prototype.getMessage=function(){'use strict';return i(this.$VideoErrorOverlay2);};j.prototype.setMessage=function(k){'use strict';h(this.$VideoErrorOverlay2,k);};j.prototype.getLinkURL=function(){'use strict';return this.$VideoErrorOverlay3.href;};j.prototype.setLinkURL=function(k){'use strict';this.$VideoErrorOverlay3.href=k;};j.prototype.getLinkTitle=function(){'use strict';return i(this.$VideoErrorOverlay3);};j.prototype.setLinkTitle=function(k){'use strict';h(this.$VideoErrorOverlay3,k);};f.exports=j;}),null);